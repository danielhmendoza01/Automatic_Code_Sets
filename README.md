# AUTOMATIC METHOD TO CREATE MEDICATION CODE SETS
ABSTRACT
Background: Creation and reuse of reliable clinical code sets could accelerate the use of EHR data for research. To support that vision, there is an imperative need for methodologically driven, transparent and automatic approaches to create error-free clinical code sets.
Objectives: Propose and evaluate an automatic, generalizable, and knowledge-based approach that uses as starting point a correct and complete knowledge base of ingredients (e.g., the US Drug Enforcement Administration Controlled Substance repository list includes fentanyl as an opioid) to create medication code sets (e.g., Abstral is an opioid medication with fentanyl as ingredient). 
Methods: Algorithms were written to convert lists of ingredients into medication code sets, where all the medications are codified in the RxNorm terminology, are active medications and have one ingredient from the ingredient list. Generalizability and accuracy of the methods was demonstrated by applying them to the discovery of opioid and anti-depressant medications. 
Results: When comparing the outcomes of our algorithm with publicly available opioid and antidepressant medication code sets, we found errors (X% and X% respectively), obsolete drugs (X% and X% respectively) and missing medications (X% and X% respectively) in those code sets. 
Conclusion: The proposed algorithms to discover correct, complete, and up to date ingredient-based medication code sets proved to be knowledge-driven, accurate and reusable. Future work will focus on extending this approach to the creation of other knowledge-driven clinical code sets. 

# INGREDIENT-BASED, REUSABLE ALGORITHMS TO CREATE OPIOID AND ANTIDEPRESSANT MEDICATION CODE SETS
ABSTRACT 
This research aimed to show the generalizability of previously proposed knowledge-based methods to automatically create up-to-date, error-free, complete code sets of medications (e.g., opioid medications that have at least one opioid ingredient) from an ingredient code set (e.g., opioids). The algorithms, previously evaluated with the RxNorm terminology, were applied in the National Drug Code (NDC) context for the creation of opioid and antidepressant medication code sets. 
The resulting medication code sets were validated through (1) automatic comparisons with the CDC opioid medication code set and the HEDIS antidepressant medication code set, (2) automatic comparison with RxNorm and Federal Drug Administration (FDA) databases, and (3) manual physician review. 
Twenty-seven NDC opioid ingredients and 40 NDC antidepressant ingredients were identified. A total of 6,262 NDC medications and 9,531 NDC antidepressant medications were found. There were 4,395 and 4,072 new medications missing from the CDC and HEDIS code sets, respectively. Not active opioid (13,432 (87.80%)) and antidepressant (7,280 (57.14%)) drugs were found in the CDC, and HEDIS code sets. No non-opioids found in the CDC and HEDIS code sets.
The proposed knowledge-based algorithms for automatically generating medication code sets from ingredients have been validated with two clinical terminologies (RxNorm and NDC) and two use cases (opioid and antidepressant medication code sets), demonstrating generalizability, reusability, and high accuracy.
